{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\AssignmentSubmissionApp-master\\\\demo\\\\front-end\\\\web\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\n// добавление значений при создании нового проекта\nimport \"./App.css\";\nimport jwt_decode from \"jwt-decode\";\nimport { useEffect, useState } from \"react\";\nimport { useLocalState } from \"./util/useLocalStorage\";\nimport Dashboard from \"./Dashboard\";\nimport { Routes, Route } from \"react-router-dom\";\nimport HomePage from \"./HomePage\";\nimport Login from \"./Pages/Login\";\nimport PrivateRoute from \"./PrivateRoute\";\nimport AssignmentView from \"./AssignmentView\"; // import \"bootstrap/dist/css/bootstrap.min.css\";\n\nimport CodeReviwerDashboard from \"./CodeReviewerDashboard\";\nimport CodeReviewAssignmentView from \"./CodeReviewAssignmentView\";\nimport { UserProfilePage } from \"./Pages/UserProfilePage\";\nimport Register from \"./Pages/SignUp\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [jwt, setJwt] = useLocalState(\"\", \"jwt\");\n  const [roles, setRoles] = useState(getRoleFromJWT());\n\n  function getRoleFromJWT() {\n    if (jwt) {\n      const decodedJwt = jwt_decode(jwt);\n      return decodedJwt.authorities;\n    }\n\n    return [];\n  }\n\n  useEffect(() => {\n    console.log(jwt);\n    console.log(roles);\n  }, [jwt]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"dashboard\",\n        element: roles.find(role => role === \"ROLE_CODE_REVIEWER\") ? /*#__PURE__*/_jsxDEV(PrivateRoute, {\n          children: /*#__PURE__*/_jsxDEV(CodeReviwerDashboard, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(PrivateRoute, {\n          children: /*#__PURE__*/_jsxDEV(Dashboard, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/assignments/:id\",\n        element: roles.find(role => role === \"ROLE_CODE_REVIEWER\") ? /*#__PURE__*/_jsxDEV(PrivateRoute, {\n          handleJwt: setJwt,\n          children: /*#__PURE__*/_jsxDEV(CodeReviewAssignmentView, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(PrivateRoute, {\n          handleJwt: setJwt,\n          children: /*#__PURE__*/_jsxDEV(AssignmentView, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(HomePage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/Profile\",\n        element: /*#__PURE__*/_jsxDEV(PrivateRoute, {\n          handleJwt: setJwt,\n          children: /*#__PURE__*/_jsxDEV(UserProfilePage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"login\",\n        element: /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 38\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"signUp\",\n        element: /*#__PURE__*/_jsxDEV(Register, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 39\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(App, \"yiUaGXMjDLdzUEMQ36Tx/KwCQpQ=\", false, function () {\n  return [useLocalState];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["jwt_decode","useEffect","useState","useLocalState","Dashboard","Routes","Route","HomePage","Login","PrivateRoute","AssignmentView","CodeReviwerDashboard","CodeReviewAssignmentView","UserProfilePage","Register","App","jwt","setJwt","roles","setRoles","getRoleFromJWT","decodedJwt","authorities","console","log","find","role"],"sources":["C:/Users/User/Desktop/AssignmentSubmissionApp-master/demo/front-end/web/src/App.js"],"sourcesContent":["// добавление значений при создании нового проекта\n\nimport \"./App.css\";\nimport jwt_decode from \"jwt-decode\";\nimport { useEffect, useState } from \"react\";\nimport { useLocalState } from \"./util/useLocalStorage\";\nimport Dashboard from \"./Dashboard\";\nimport { Routes, Route } from \"react-router-dom\";\nimport HomePage from \"./HomePage\";\nimport Login from \"./Pages/Login\";\nimport PrivateRoute from \"./PrivateRoute\";\nimport AssignmentView from \"./AssignmentView\";\n// import \"bootstrap/dist/css/bootstrap.min.css\";\nimport CodeReviwerDashboard from \"./CodeReviewerDashboard\";\nimport CodeReviewAssignmentView from \"./CodeReviewAssignmentView\";\nimport { UserProfilePage } from \"./Pages/UserProfilePage\";\nimport Register from \"./Pages/SignUp\";\n\nfunction App() {\n  const [jwt, setJwt] = useLocalState(\"\", \"jwt\");\n  const [roles, setRoles] = useState(getRoleFromJWT());\n\n  function getRoleFromJWT() {\n    if (jwt) {\n      const decodedJwt = jwt_decode(jwt);\n      return decodedJwt.authorities;\n    }\n    return [];\n  }\n\n  useEffect(() => {\n    console.log(jwt);\n    console.log(roles);\n  }, [jwt]);\n\n  return (\n    <>\n      <Routes>\n        <Route\n          path=\"dashboard\"\n          element={\n            roles.find((role) => role === \"ROLE_CODE_REVIEWER\") ? (\n              <PrivateRoute>\n                <CodeReviwerDashboard />\n              </PrivateRoute>\n            ) : (\n              <PrivateRoute>\n                <Dashboard />\n              </PrivateRoute>\n            )\n          }\n        />\n        <Route\n          path=\"/assignments/:id\"\n          element={\n            roles.find((role) => role === \"ROLE_CODE_REVIEWER\") ? (\n              <PrivateRoute handleJwt = {setJwt}>\n                <CodeReviewAssignmentView />\n              </PrivateRoute>\n            ) : (\n              <PrivateRoute handleJwt = {setJwt}>\n                <AssignmentView />\n              </PrivateRoute>\n            )\n          }\n        />\n        <Route path=\"/\" element={<HomePage />} />\n\n        <Route\n          path=\"/Profile\"\n          element={\n            <PrivateRoute handleJwt = {setJwt}>\n              <UserProfilePage />\n            </PrivateRoute>\n          }\n        />\n\n        <Route path=\"login\" element={<Login />} />\n\n        <Route path=\"signUp\" element={<Register />} />\n      </Routes>\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}